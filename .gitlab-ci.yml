image: golang:1.11-stretch

before_script:

tests:
  script:
    - go get && go build
    - go test -cover
    - go test -v -coverprofile .coverage.txt
    - go tool cover -html=.coverage.txt -o coverage.html
  artifacts:
    paths:
    - coverage.html
    expire_in: 1 week
